<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VoiceIn</title>

  <!-- Disable tap highlight on IE -->
  <meta name="msapplication-tap-highlight" content="no">

  <!-- Web Application Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- Add to homescreen for Chrome on Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="<%= name %>">
  <link rel="icon" sizes="192x192" href="<%= image %>">

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="<%= name %>">
  <link rel="apple-touch-icon" href="<%= image %>">
  <!-- Wide card with share menu button -->
  <style>
    .demo-card-wide.mdl-card {
      width: 100%;
      margin: 0 auto;
    }

    .demo-card-wide > .mdl-card__title {
      color: #fff;
      height: 176px;
      background: url('images/qrcode/blurred-web-backgrounds.jpg') center / cover;
    }

    .demo-card-wide > .mdl-card__menu {
      color: #E0E0E0;
    }

    .demo-layout-transparent {
      background: #9E9E9E;
    }

    .demo-layout-transparent .mdl-layout__header,
    .demo-layout-transparent .mdl-layout__drawer-button {
      color: black;
    }

    .material-icons.md-36 {
      font-size: 36px;
      vertical-align: middle;
      margin-right: 5px;
    }

    .profile-image {
      display: block !important;
      margin: 0 auto;
      border-radius: 100px;
      -moz-border-radius: 100px;
      -webkit-border-radius: 100px;
    }

    .mdl-dialog {
      border: none;
      box-shadow: 0 9px 46px 8px rgba(0, 0, 0, 0.14), 0 11px 15px -7px rgba(0, 0, 0, 0.12), 0 24px 38px 3px rgba(0, 0, 0, 0.2);
      width: 280px;
    }

    .mdl-dialog__title {
      padding: 24px 24px 0;
      margin: 0;
      font-size: 2.5rem;
    }

    .mdl-dialog__actions {
      padding: 8px 8px 8px 24px;
      display: -webkit-flex;
      display: -ms-flexbox;
      display: flex;
      -webkit-flex-direction: row-reverse;
          -ms-flex-direction: row-reverse;
              flex-direction: row-reverse;
      -webkit-flex-wrap: wrap;
          -ms-flex-wrap: wrap;
              flex-wrap: wrap;
    }

    .mdl-dialog__actions > * {
      margin-right: 8px;
      height: 36px;
    }

    .mdl-dialog__actions > *:first-child {
      margin-right: 0;
    }

    .mdl-dialog__actions--full-width {
      padding: 0 0 8px 0;
    }

    .mdl-dialog__actions--full-width > * {
      height: 48px;
      -webkit-flex: 0 0 100%;
          -ms-flex: 0 0 100%;
              flex: 0 0 100%;
      padding-right: 16px;
      margin-right: 0;
      text-align: right;
    }

    .mdl-dialog__content {
      padding: 20px 24px 24px 24px;
      color: rgba(0,0,0, 0.54);
    }
  </style>
  <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.6/material.indigo-pink.min.css">
  <!-- Material Design icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body>

  <div class="demo-layout-transparent mdl-layout mdl-js-layout">
    <header class="mdl-layout__header mdl-layout__header--transparent">
      <div class="mdl-layout__header-row">
        <!-- Title -->
        <span class="mdl-layout-title">VoiceIn 名片</span>
      </div>
    </header>
    <div class="mdl-layout__drawer">
      <span class="mdl-layout-title">VoiceIn 名片</span>
      <nav class="mdl-navigation">
        <a class="mdl-navigation__link" href="/">VoiceIn 首頁</a>
        <a class="mdl-navigation__link" href="">聯絡我們</a>
        <a class="mdl-navigation__link" href="">常見問題</a>
        <a class="mdl-navigation__link" href="">關於 VoiceIn</a>
      </nav>
    </div>
    <main class="mdl-layout__content vcard-content">
      <div class="demo-card-wide mdl-card mdl-shadow--2dp">
        <div class="mdl-card__title">
          <img class="profile-image" src="<%= image %>" alt="" />
        </div>
        <div class="mdl-card__supporting-text">
          <h3><i class="material-icons md-36">contact_phone</i><%= name %> 的名片</h3>
          <h5><i class="material-icons md-36">face</i>關於</h5>
          <p>
            <% if (profile === '') {%>
              對方未填寫
            <% } else {%>
              <%= profile %>
            <%}%>
          </p>
          <h5><i class="material-icons md-36">business</i>公司</h5>
          <p>
            <%= company %>
          </p>
          <h5><i class="material-icons md-36">location_on</i>來自</h5>
          <p>
            <%= location %>
          </p>
        </div>
        <% if (type !== 'special') { %>
        <div class="mdl-card__supporting-text">
          <p>
            如果確認對方資料無誤<br/>
            請您輸入以下資料資料加入對方。<br/>
            <a href="#">為什麼要輸入資料?</a><br/>
            *電話號碼對方將不會看見，請放心。
          </p>
          <form class="user-information-form" action="#">
            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
              <input class="mdl-textfield__input" type="text" id="name">
              <label class="mdl-textfield__label" for="name">姓名</label>
            </div><br/>

            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label phonenumber-field">
              <input class="mdl-textfield__input" pattern="[0-9]{10}" id="phoneNumber" type="tel" inputmode="numeric">
              <label class="mdl-textfield__label" for="phoneNumber">請輸入台灣手機號碼</label>
              <span class="mdl-textfield__error">只能輸入手機號碼，例如 0988123456 </span>
            </div><br/>

            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
              <input class="mdl-textfield__input" type="text" id="company">
              <label class="mdl-textfield__label" for="company">公司</label>
            </div>
            <!-- <div class="mdl-textfield mdl-js-textfield">
              <textarea class="mdl-textfield__input" type="text" rows= "3" id="profile"></textarea>
              <label class="mdl-textfield__label" for="profile">關於您...</label>
            </div> -->
          </form>
        </div>
        <% } else {%>
          <div class="mdl-card__supporting-text">
            <p>
              這是為您特製的 QRCode 聯絡 Icon，請放心將此網頁加至主畫面
            </p>
          </div>

          <input type="hidden" id="name" value="<%= customerName %>">
          <input type="hidden"  id="phoneNumber" value="<%= customerPhoneNum %>">
          <input type="hidden" id="company" value="<%= customerCompany %>">
        <% } %>
        <div class="mdl-card__actions mdl-card--border">
          <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect confirm-btn" data-qrcode-uuid="<%= qrCodeUuid%>">
            <i class="material-icons md-36">done</i>確認加入
          </a>
        </div>
      </div>
    </main>
  </div>

  <dialog id="dialog" class="mdl-dialog">
    <h3 class="mdl-dialog__title">訊息</h3>
    <div class="mdl-dialog__content">
      <p class="notification-text">

      </p>
    </div>
    <div class="mdl-dialog__actions">
      <button type="button" class="mdl-button">關閉</button>
    </div>
  </dialog>

  <script src="https://storage.googleapis.com/code.getmdl.io/1.0.6/material.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.2/backbone-min.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/0.11.0/fetch.min.js"></script>
  <script src="./dist/public/javascripts/qrcode/entry.bundle.js"></script>
</body>
</html>
